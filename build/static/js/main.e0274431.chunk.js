(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{35:function(e,t,r){},60:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(11),s=r.n(c),i=(r(35),r.p,r.p+"static/media/HarryPotter.8f12e92c.svg"),o=(r.p,r(8)),l=r.n(o),d=r(5),j=r(3),u=r.n(j),h=r(4),O=r(9),b=r.n(O),p=function(){return function(){var e=Object(h.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_POSTS_REQUESTS"}),e.prev=1,e.next=4,b.a.get("http://localhost:4000/characters");case 4:r=e.sent,t({type:"FETCH_POSTS_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_POSTS_FAILURE",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},f=function(){return function(){var e=Object(h.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_POSTS_REQUESTS"}),e.prev=1,e.next=4,b.a.get("http://localhost:4000/characters?favorite=true");case 4:r=e.sent,t({type:"FETCH_FAVORITES_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_POSTS_FAILURE",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},v=r(0),x=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e}));return Object(v.jsxs)("div",{className:"filtersContainer",children:[Object(v.jsx)("button",{className:l()("buttonFilter",{isActive:"student"===t.filter}),onClick:function(){e(function(){var e=Object(h.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_POSTS_REQUESTS"}),e.prev=1,e.next=4,b.a.get("http://localhost:4000/characters?hogwartsStudent=true");case 4:r=e.sent,t({type:"FETCH_BY_STUDENT_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_POSTS_FAILURE",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())},children:"Estudiantes"}),Object(v.jsx)("button",{className:l()("buttonFilter",{isActive:"staff"===t.filter}),onClick:function(){e(function(){var e=Object(h.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_POSTS_REQUESTS"}),e.prev=1,e.next=4,b.a.get("http://localhost:4000/characters?hogwartsStaff=true");case 4:r=e.sent,t({type:"FETCH_BY_STAFF_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_POSTS_FAILURE",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())},children:"Staff"})]})};function C(e){switch(e){case"Gryffindor":return"linear-gradient(135deg, #FF0000 0%, #fe8482 100%)";case"Slytherin":return"linear-gradient(135deg, #1C792B 0%, #82E95E 100%)";case"Hufflepuff":return"linear-gradient(135deg, #FFC700 0%, #FFF388 100%)";case"Ravenclaw":return"linear-gradient(135deg, #0597B7 0%, #66D1FF 100%)";default:return"linear-gradient(135deg, #ffffff 0%, #000000 100%)"}}var m=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e}));return Object(a.useEffect)((function(){e(p())}),[]),Object(v.jsx)(v.Fragment,{children:function(){var r;return t.loading?Object(v.jsx)("h1",{children:"Loading..."}):null===(r=t.characters)||void 0===r?void 0:r.map((function(t){return Object(v.jsxs)("div",{className:"characterCard",children:[Object(v.jsx)("div",{style:{background:C(t.house)},className:"imgContainer",children:Object(v.jsx)("div",{className:"characterImg",style:{backgroundImage:"url(".concat(t.image,")")},alt:""})}),Object(v.jsxs)("div",{className:"descriptionContainer",children:[Object(v.jsxs)("div",{className:"headerDescription",children:[Object(v.jsxs)("p",{children:[t.alive?"Vivo":"Muerto"," / ",(r=t,r.hogwartsStaff?"Staff":"Estudiante")]}),Object(v.jsx)(g,{className:l()("favTag",{favorite:null===t||void 0===t?void 0:t.favorite}),onClick:function(){var r;e((r=t.id,function(){var e=Object(h.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a().characters.filter((function(e){return e.favorite})).length<5)){e.next=8;break}return t({type:"ADD_FAVORITE_CHARACTER"}),e.next=6,b.a.patch("http://localhost:4000/characters/".concat(r),{favorite:!0});case 6:e.sent&&(t(p()),t(f()));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()))}})]}),Object(v.jsx)("h1",{children:t.name}),Object(v.jsxs)("div",{className:"detailsCharacter",children:[Object(v.jsxs)("p",{children:["Cumplea\xf1os: ",t.dateOfBirth||"Sin datos"]}),Object(v.jsxs)("p",{children:["G\xe9nero:",t.gender||"Sin datos"]}),Object(v.jsxs)("p",{children:["Color de ojos: ",t.eyeColour||"Sin datos"]}),Object(v.jsxs)("p",{children:["Color de pelo: ",t.hairColour||"Sin datos"]})]})]})]});var r}))}()})},S=r(2),g=function(e){return Object(v.jsx)("svg",Object(S.a)(Object(S.a)({},e),{},{width:"22",height:"24",viewBox:"0 0 22 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M1 8.60073C1 5.01771 1 3.2262 2.09835 2.1131C3.1967 1 4.96447 1 8.5 1H13.5C17.0355 1 18.8033 1 19.9017 2.1131C21 3.2262 21 5.01771 21 8.60073V17.2499C21 20.649 21 22.3486 19.9446 22.8684C18.8893 23.3883 17.5706 22.3382 14.9332 20.2382L14.0891 19.5661C12.6061 18.3852 11.8647 17.7948 11 17.7948C10.1353 17.7948 9.39386 18.3852 7.91089 19.5661L7.06683 20.2382C4.42943 22.3382 3.11073 23.3883 2.05537 22.8684C1 22.3486 1 20.649 1 17.2499V8.60073Z",stroke:"#999999"})}))},E=function(e){return Object(v.jsxs)("svg",Object(S.a)(Object(S.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsx)("path",{d:"M10 15L10 12",stroke:"white","stroke-width":"2","stroke-linecap":"round"}),Object(v.jsx)("path",{d:"M14 15L14 12",stroke:"white","stroke-width":"2","stroke-linecap":"round"}),Object(v.jsx)("path",{d:"M3 7H21V7C20.0681 7 19.6022 7 19.2346 7.15224C18.7446 7.35523 18.3552 7.74458 18.1522 8.23463C18 8.60218 18 9.06812 18 10V16C18 17.8856 18 18.8284 17.4142 19.4142C16.8284 20 15.8856 20 14 20H10C8.11438 20 7.17157 20 6.58579 19.4142C6 18.8284 6 17.8856 6 16V10C6 9.06812 6 8.60218 5.84776 8.23463C5.64477 7.74458 5.25542 7.35523 4.76537 7.15224C4.39782 7 3.93188 7 3 7V7Z",stroke:"white","stroke-width":"2","stroke-linecap":"round"}),Object(v.jsx)("path",{d:"M10.0681 3.37059C10.1821 3.26427 10.4332 3.17033 10.7825 3.10332C11.1318 3.03632 11.5597 3 12 3C12.4403 3 12.8682 3.03632 13.2175 3.10332C13.5668 3.17033 13.8179 3.26427 13.9319 3.37059",stroke:"white","stroke-width":"2","stroke-linecap":"round"})]}))},w=r(7),y=function(){var e,t=Object(d.b)(),r=Object(d.c)((function(e){return e})),n=Object(a.useState)(!1),c=Object(w.a)(n,2),s=c[0],i=c[1],o=Object(a.useState)(!1),j=Object(w.a)(o,2),O=j[0],x=j[1];return Object(a.useEffect)((function(){t(f())}),[]),Object(v.jsxs)("div",{className:"favoritesMainContainer",children:[Object(v.jsxs)("div",{className:"favButtonsContainer",children:[Object(v.jsxs)("button",{onClick:function(){i(!s)},children:["Favorites",Object(v.jsx)(g,{className:"favIcons"})]}),Object(v.jsxs)("button",{onClick:function(){x(!0)},children:["Agregar ",Object(v.jsx)(T,{className:"favIcons"})]})]}),Object(v.jsx)("div",{className:l()("favoritesList",{favoritesListShow:s}),children:null===r||void 0===r||null===(e=r.favorites)||void 0===e?void 0:e.map((function(e){return Object(v.jsxs)("div",{className:"favoriteElementContainer",children:[Object(v.jsxs)("div",{className:"favoriteElement",children:[Object(v.jsx)("div",{className:"favoriteImg",style:{backgroundImage:"url(".concat(e.image,")")},alt:""}),Object(v.jsx)("p",{children:e.name}),Object(v.jsx)(E,{className:"favIcons",onClick:function(){var r;t((r=e.id,function(){var e=Object(h.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REMOVE_FAVORITE_CHARACTER"}),e.next=4,b.a.patch("http://localhost:4000/characters/".concat(r),{favorite:!1});case 4:e.sent&&(t(p()),t(f())),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"FETCH_POSTS_FAILURE",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}})]}),Object(v.jsx)("hr",{})]})}))}),Object(v.jsx)(k,{className:"generalContainerModal",isOpenModal:O,setShowModal:function(e){x(e)},children:Object(v.jsx)("div",{className:"modalContent",children:Object(v.jsx)(R,{setShowModal:function(e){x(e)}})})})]})},T=function(e){return Object(v.jsxs)("svg",Object(S.a)(Object(S.a)({},e),{},{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.3249 15.0763C12.8883 15.0257 12.4456 15 12 15C10.0188 15 8.09292 15.5085 6.52112 16.4465C5.30069 17.1749 4.34666 18.1307 3.74108 19.2183C3.46638 19.7117 3.79562 20.2902 4.34843 20.4054C7.85678 21.1365 11.4437 21.3594 15 21.074V21H14C12.3431 21 11 19.6569 11 18C11 16.5753 11.9932 15.3825 13.3249 15.0763Z",fill:"white"}),Object(v.jsx)("path",{d:"M18 14L18 22",stroke:"white","stroke-width":"2.5","stroke-linecap":"round"}),Object(v.jsx)("path",{d:"M22 18L14 18",stroke:"white","stroke-width":"2.5","stroke-linecap":"round"}),Object(v.jsx)("circle",{cx:"12",cy:"8",r:"5",fill:"white"})]}))},_=function(e){var t=e.isOpenModal,r=e.setShowModal,n=e.children,s=e.className,i=function(e){27===e.keyCode&&r(!1)};return Object(a.useEffect)((function(){return t&&document.addEventListener("keydown",i,!1),function(){document.removeEventListener("keydown",i,!1)}})),Object(c.createPortal)(Object(v.jsx)("div",{onClick:function(e){"modalContainer"===e.target.id&&r(!1)},className:s,id:"modalContainer",children:n}),document.body)},F=function(e){var t=e.children,r=e.isOpenModal,n=e.setShowModal,c=e.className;return Object(a.useEffect)((function(){document.body.style.overflow=r?"hidden":"auto"}),[r]),Object(v.jsx)(v.Fragment,{children:r&&Object(v.jsx)(_,{isOpenModal:r,setShowModal:function(e){n(e)},className:l()("modalContainer",c),showModal:r,children:t})})};F.defaultProps={className:""};var k=F,N=r(30),R=function(e){var t=e.setShowModal,r=Object(d.b)(),n=Object(d.c)((function(e){return e})),c=Object(a.useRef)(null),s=Object(a.useState)(null),i=Object(w.a)(s,2),o=i[0],l=i[1],j=Object(N.a)(),O=j.register,x=j.handleSubmit,C=(j.watch,j.formState.errors);return Object(v.jsxs)("form",{className:"formAddCharacter",onSubmit:x((function(e){if(o){var a=e.name,c=e.dateOfBirth,s=e.eyeColour,i=e.hairColour,l=e.gender,d=e.pos,j={alive:!0,dateOfBirth:c,eyeColour:s,favorite:!1,gender:l,hairColour:i,hogwartsStaff:"staff"===d,hogwartsStudent:"student"===d,house:"Gryffindor",id:n.characters.length+1,image:o,name:a};return r(function(e){return function(){var t=Object(h.a)(u.a.mark((function t(r){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"FETCH_POSTS_REQUESTS"}),t.prev=1,t.next=4,b.a.post("http://localhost:4000/characters",e);case 4:a=t.sent,r({type:"POST_CHARACTER_REQUESTS_SUCCESS",payload:a.data}),a&&(r(p()),r(f())),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:"FETCH_POSTS_FAILURE",error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(j)),t(!1),!1}alert("No se encontro una imagen seleccionada")})),children:[Object(v.jsxs)("div",{className:"headerContainer",children:[Object(v.jsx)("h1",{children:"Agrega un personaje"}),Object(v.jsx)(A,{onClick:function(){t(!1)}})]}),Object(v.jsxs)("div",{className:"labelContainer",children:[Object(v.jsxs)("label",{children:["NOMBRE",Object(v.jsx)("input",Object(S.a)({type:"text"},O("name",{required:!0}))),C.name&&Object(v.jsx)("span",{className:"error",children:"Campo requerido*"})]}),Object(v.jsxs)("label",{children:["CUMPLEA\xd1OS",Object(v.jsx)("input",Object(S.a)({type:"date"},O("dateOfBirth",{required:!0}))),C.dateOfBirth&&Object(v.jsx)("span",{className:"error",children:"Campo requerido*"})]})]}),Object(v.jsxs)("div",{className:"labelContainer",children:[Object(v.jsxs)("label",{children:["COLOR DE OJOS",Object(v.jsx)("input",Object(S.a)({type:"text"},O("eyeColour",{required:!0}))),C.eyeColour&&Object(v.jsx)("span",{className:"error",children:"Campo requerido*"})]}),Object(v.jsxs)("label",{children:["COLOR DE PELO",Object(v.jsx)("input",Object(S.a)({type:"text"},O("hairColour",{required:!0}))),C.hairColour&&Object(v.jsx)("span",{className:"error",children:"Campo requerido*"})]})]}),Object(v.jsxs)("div",{className:"labelContainer",children:[Object(v.jsxs)("label",{children:["G\xc9NERO",Object(v.jsxs)("div",{className:"radioContainer",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("input",Object(S.a)({type:"radio",value:"male"},O("gender",{required:!0}))),Object(v.jsx)("p",{children:"Male"})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("input",Object(S.a)({type:"radio",value:"female"},O("gender",{required:!0}))),Object(v.jsx)("p",{children:"Female"})]}),C.gender&&Object(v.jsx)("span",{className:"error",children:"Campo requerido*"})]})]}),Object(v.jsxs)("label",{children:["POSICI\xd3N",Object(v.jsxs)("div",{className:"radioContainer",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("input",Object(S.a)({type:"radio",value:"student"},O("pos",{required:!0}))),Object(v.jsx)("p",{children:"Estudiante"})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("input",Object(S.a)({type:"radio",value:"staff"},O("pos",{required:!0}))),Object(v.jsx)("p",{children:"Staff"})]}),C.pos&&Object(v.jsx)("span",{className:"error",children:"Campo requerido*"})]})]})]}),Object(v.jsxs)("label",{children:[" FOTOGRAFIA",Object(v.jsx)("input",{onChange:function(e){var t,r=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files[0];if(r){if(r.size>1316406)return alert("El tama\xf1o de la imagen supera lo permitido, por favor selecciona una imagen valida"),void l(null);var a=new FileReader;return a.onload=function(e){var t=e.target.result;l(t)},a.readAsDataURL(r),!1}l(null)},type:"file",ref:c,accept:"image/*",size:500})]}),Object(v.jsx)("input",{type:"submit",value:"GUARDAR"})]})},A=function(e){return Object(v.jsxs)("svg",Object(S.a)(Object(S.a)({},e),{},{width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsx)("rect",{width:"34",height:"34",fill:"white"}),Object(v.jsx)("circle",{cx:"17",cy:"17",r:"12.75",stroke:"#333333"}),Object(v.jsx)("path",{d:"M12.75 21.2495L21.25 12.7495",stroke:"#333333"}),Object(v.jsx)("path",{d:"M21.25 21.25L12.75 12.75",stroke:"#333333"})]}))};var H=function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)("header",{className:"App-header",children:Object(v.jsx)(y,{})}),Object(v.jsxs)("main",{className:"main",children:[Object(v.jsx)("img",{src:i,className:"App-logo",alt:"logo"}),Object(v.jsx)("h1",{children:"Selecciona tu filtro"}),Object(v.jsx)(x,{}),Object(v.jsx)("div",{className:"charactersContainer",children:Object(v.jsx)(m,{})})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=r(16),U=r(28),L=r(29),I={characters:[],loading:!1,error:null,filter:"",favorites:[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS_REQUESTS":return Object(S.a)(Object(S.a)({},e),{},{loading:!0,error:null});case"FETCH_POSTS_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{characters:t.payload,loading:!1});case"FETCH_POSTS_FAILURE":return Object(S.a)(Object(S.a)({},e),{},{loading:!1,error:t.error});case"REMOVE_FAVORITE_CHARACTER":case"ADD_FAVORITE_CHARACTER":return Object(S.a)(Object(S.a)({},e),{},{loading:!1,filter:""});case"FETCH_BY_STUDENT_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{characters:t.payload,loading:!1,filter:"student"});case"FETCH_BY_STAFF_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{characters:t.payload,loading:!1,filter:"staff"});case"FETCH_FAVORITES_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{favorites:t.payload,loading:!1});case"POST_CHARACTER_REQUESTS_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{loading:!1});default:return e}},B=Object(M.createStore)(P,Object(U.composeWithDevTools)(Object(M.applyMiddleware)(L.a)));s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(d.a,{store:B,children:Object(v.jsx)(H,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[60,1,2]]]);
//# sourceMappingURL=main.e0274431.chunk.js.map